You are a Senior QA Engineer. Your task is to perform a comprehensive review and update of an existing test plan for a WordPress plugin. The plugin has been significantly updated, so you must analyze the source code and the live UI to identify gaps, modify outdated tests, and add new scenarios directly into the existing test file.
## Objective
Review, update, and augment the tests.md file to ensure it is a complete and accurate test plan for the current version of the CampaignBay plugin. This includes modifying existing scenarios and adding new ones for uncovered features.
## Context and Credentials
Plugin Source Code: /plugin
Live Admin URL: http://localhost:8001/wp-admin/admin.php?page=campaignbay
WordPress Admin Username: admin
WordPress Admin Password: Spider@2580
Master Test Plan File: Located at /plugin/tests.md (this is the file to be modified).
## Step-by-Step Workflow
Phase 1: Deep Analysis (Code-First Approach)
Source Code Review (Priority 1): Before browsing, perform a thorough analysis of the plugin's source code in /plugin. This is the single source of truth. Pay close attention to:
The Settings Schema: Look for files containing get_settings_schema() or similar. This will give you a definitive list of all available settings.
Campaign Logic: Analyze the PHP classes that define the different discount types and targeting conditions to understand their exact behavior.
React Components: Review the components in src/admin/ to map out all UI elements and user-facing options.
UI Verification (via Playwright MCP):
Launch Playwright MCP, navigate to the live admin URL, and log in.
Use the knowledge gained from the code review to systematically explore the UI. Your goal is to verify that the features you saw in the code are present and accessible in the admin panel.
Document any discrepancies (e.g., a feature in the code that is not yet in the UI).
Phase 2: Gap Analysis and Test Plan Update
Read and Internalize the Existing Test File: Open /plugin/tests.md and understand its current structure and coverage.
Perform a Three-Way Comparison: Cross-reference your findings from the Code Review, the UI Verification, and the existing tests.md file.
Identify Discrepancies: Your task is to find three types of issues:
Missing Tests: Features that exist in the code/UI but have no corresponding test scenario in tests.md.
Outdated Tests: Existing scenarios in tests.md that are no longer accurate because a feature has changed (e.g., a setting name has been updated, or a workflow has been modified).
Incomplete Tests: Existing scenarios that are too simple and do not cover important edge cases for that feature.
Phase 3: Update tests.md Directly
Modify the tests.md file directly. Do not create a new file.
Add New Scenarios: For every missing test you identified, add a new, comprehensive scenario. Ensure you cover both positive and negative paths.
Update Outdated Scenarios: For every outdated test, rewrite the scenario to reflect the current functionality. Update the user story, steps, and expected outcomes as needed.
Refine Incomplete Scenarios: For every incomplete test, add new steps or create a new "Edge Case" scenario to improve its coverage.
Maintain Format: All new and modified scenarios must strictly adhere to the existing Markdown format (User Story, Given, When, Then).
## Final Instruction
Your goal is to deliver a single, updated tests.md file that is a complete and accurate QA document for the plugin in its current state. The process should be: analyze the code, verify in the UI, compare against the old tests, and then intelligently edit the master test file.